select * from scheduledNotification this_ inner join appointment appointmen1_ on this_.appointment_id=appointmen1_.id inner join doctor doctor2_ on appointmen1_.doctor_id=doctor2_.id left outer join groupCode groupcode6_ on appointmen1_.groupcode_id=groupcode6_.id left outer join location location7_ on appointmen1_.location_id=location7_.id left outer join patient patient8_ on appointmen1_.patient_id=patient8_.id left outer join transaction transactio9_ on appointmen1_.transaction_id=transactio9_.id where this_.date between '2021-08-11 04:00:00' and '2021-08-12 03:59:00' and this_.type='CONFIRMATION' and this_.status in ('WAITING', 'COMPLETED', 'FAILED') and appointmen1_.location_id=1 and doctor2_.isOpenForConfirmation=1 and doctor2_.id in (99, 43, 56, 94, 2, 53, 102, 101, 96, 60, 92, 86, 83, 81, 82, 84, 85, 93, 97, 77, 58, 7, 98, 8, 13, 74, 4, 29, 14, 66, 68, 65, 67, 62, 69, 64, 79, 70, 12, 3, 28, 15, 1, 91, 18, 88, 89, 90, 106, 6, 103, 104, 108, 105, 107) and appointmen1_.type not in (select appointmentTypeRow_.type as y0_ from appointmentType appointmentTypeRow_ where appointmentTypeRow_.isOpenForConfirmation=0) and not exists (select patientRow_.id as y0_ from patient patientRow_ where ((this_.source='CALL' and patientRow_.isOptedOutForCall=1) or (this_.source='EMAIL' and patientRow_.isOptedOutForEmail=1) or ((this_.source='SMS' or this_.source='APP' or this_.source='WHATSAPP') and patientRow_.isOptedOutForText=1)) and patientRow_.id=appointmen1_.patient_id) order by this_.date asc;



select this_.id as id1_4_7_, this_.actualScheduledDate as actualSc2_4_7_, this_.address as address3_4_7_, this_.admitTime as admitTim4_4_7_, this_.appartmentDetails as appartme5_4_7_, this_.appointmentStep as appointm6_4_7_, this_.appointmentTimeAccordingToPatient as appointm7_4_7_, this_.baseAppointmentId as baseAppo8_4_7_, this_.billingId as billingI9_4_7_, this_.cancellationDate as cancell10_4_7_, this_.cancellationReason as cancell11_4_7_, this_.city as city12_4_7_, this_.collection_date as collect13_4_7_, this_.color as color14_4_7_, this_.confirmationDate as confirm15_4_7_, this_.createdById as created16_4_7_, this_.createdByName as created17_4_7_, this_.created_date as created18_4_7_, this_.currentAppointmentDate as current19_4_7_, this_.diagnosisCode as diagnos20_4_7_, this_.distance_travelled as distanc21_4_7_, this_.doctor_id as doctor_68_4_7_, this_.duration as duratio22_4_7_, this_.form as form23_4_7_, this_.groupcode_id as groupco69_4_7_, this_.is_address_valid as is_addr24_4_7_, this_.isAutoStartOfManualDelayEnabled as isAutoS25_4_7_, this_.isBlackedOut as isBlack26_4_7_, this_.is_expedite_result as is_expe27_4_7_, this_.isManualDelayEvent as isManua28_4_7_, this_.isNoShow as isNoSho29_4_7_, this_.isOpenForConfirmation as isOpenF30_4_7_, this_.isOpenForDelay as isOpenF31_4_7_, this_.isOpenForReminder as isOpenF32_4_7_, this_.isOpenForSlotFilling as isOpenF33_4_7_, this_.is_recurring as is_recu34_4_7_, this_.is_recurring_and_created_by_provider as is_recu35_4_7_, this_.isResolved as isResol36_4_7_, this_.isSlotFillingAppointment as isSlotF37_4_7_, this_.jmsMessageIDForManualDelayEvent as jmsMess38_4_7_, this_.kitNumber as kitNumb39_4_7_, this_.lab as lab40_4_7_, this_.labOrderId as labOrde41_4_7_, this_.latitude as latitud42_4_7_, this_.location_id as locatio70_4_7_, this_.longitude as longitu43_4_7_, this_.modifiedDate as modifie44_4_7_, this_.note as note45_4_7_, this_.patient_id as patient71_4_7_, this_.periods as periods46_4_7_, this_.pointsPerPeriod as pointsP47_4_7_, this_.previous_scheduled_date as previou48_4_7_, this_.priority as priorit49_4_7_, this_.reschedulingDate as resched50_4_7_, this_.schedulingCount as schedul51_4_7_, this_.state as state52_4_7_, this_.status as status53_4_7_, this_.systemId as systemI54_4_7_, this_.systemName as systemN55_4_7_, this_.test_location_type as test_lo56_4_7_, this_.tests_performed as tests_p57_4_7_, this_.textColor as textCol58_4_7_, this_.transaction_id as transac72_4_7_, this_.type as type59_4_7_, this_.typeOfLocation as typeOfL60_4_7_, this_.vendor as vendor61_4_7_, this_.version as version62_4_7_, this_.windowBookedStatus as windowB63_4_7_, this_.windowEndTime as windowE64_4_7_, this_.windowSize as windowS65_4_7_, this_.windowStartTime as windowS66_4_7_, this_.zip as zip67_4_7_, doctor2_.id as id1_11_0_, doctor2_.address as address2_11_0_, doctor2_.city as city3_11_0_, doctor2_.color as color4_11_0_, doctor2_.email as email5_11_0_, doctor2_.firstName as firstNam6_11_0_, doctor2_.isOpenForConfirmation as isOpenFo7_11_0_, doctor2_.isOpenForDelay as isOpenFo8_11_0_, doctor2_.isOpenForReminder as isOpenFo9_11_0_, doctor2_.isOpenForSlotFilling as isOpenF10_11_0_, doctor2_.lastName as lastNam11_11_0_, doctor2_.latitude as latitud12_11_0_, doctor2_.longitude as longitu13_11_0_, doctor2_.npi as npi14_11_0_, doctor2_.phone as phone15_11_0_, doctor2_.prefix as prefix16_11_0_, doctor2_.speciality as special17_11_0_, doctor2_.state as state18_11_0_, doctor2_.status as status19_11_0_, doctor2_.systemId as systemI20_11_0_, doctor2_.systemName as systemN21_11_0_, doctor2_.targetDelay as targetD22_11_0_, doctor2_.textColor as textCol23_11_0_, doctor2_.userId as userId24_11_0_, doctor2_.version as version25_11_0_, doctor2_.zip as zip26_11_0_, concat(doctor2_.firstName,' ',doctor2_.lastName) as formula0_0_, concat(doctor2_.lastName,', ',doctor2_.firstName) as formula1_0_, groupcode3_.id as id1_23_1_, groupcode3_.address as address2_23_1_, groupcode3_.canSendInconclusiveResult as canSendI3_23_1_, groupcode3_.canSendNegativeResult as canSendN4_23_1_, groupcode3_.canSendPostiveResult as canSendP5_23_1_, groupcode3_.city as city6_23_1_, groupcode3_.code as code7_23_1_, groupcode3_.dateEnd as dateEnd8_23_1_, groupcode3_.dateStart as dateStar9_23_1_, groupcode3_.groupCodeStatus as groupCo10_23_1_, groupcode3_.is_coupon as is_coup11_23_1_, groupcode3_.isFree as isFree12_23_1_, groupcode3_.managerEmail as manager13_23_1_, groupcode3_.managerName as manager14_23_1_, groupcode3_.organizationName as organiz15_23_1_, groupcode3_.recurringEndDate as recurri16_23_1_, groupcode3_.recurringType as recurri17_23_1_, groupcode3_.state as state18_23_1_, groupcode3_.time as time19_23_1_, groupcode3_.zip as zip20_23_1_, location4_.id as id1_26_2_, location4_.address as address2_26_2_, location4_.city as city3_26_2_, location4_.endTime as endTime4_26_2_, location4_.is_fixed_location as is_fixed5_26_2_, location4_.latitude as latitude6_26_2_, location4_.locationNameInNotification as location7_26_2_, location4_.longitude as longitud8_26_2_, location4_.name as name9_26_2_, location4_.officeDeskEmail as officeD10_26_2_, location4_.officeDeskPhone as officeD11_26_2_, location4_.primary_provider_id as primary12_26_2_, location4_.startTime as startTi13_26_2_, location4_.state as state14_26_2_, location4_.status as status15_26_2_, location4_.systemId as systemI16_26_2_, location4_.systemName as systemN17_26_2_, location4_.timeZone as timeZon18_26_2_, location4_.zip as zip19_26_2_, patient5_.id as id1_32_3_, patient5_.address as address2_32_3_, patient5_.addressLine1 as addressL3_32_3_, patient5_.addressLine2 as addressL4_32_3_, patient5_.appartmentDetails as appartme5_32_3_, patient5_.averageReview as averageR6_32_3_, patient5_.chatChannelId as chatChan7_32_3_, patient5_.city as city8_32_3_, patient5_.consentTakenBy as consentT9_32_3_, patient5_.county as county10_32_3_, patient5_.dob as dob11_32_3_, patient5_.email as email12_32_3_, patient5_.entranceNote as entranc13_32_3_, patient5_.ethnicity as ethnici14_32_3_, patient5_.family_id as family_57_32_3_, patient5_.firstName as firstNa15_32_3_, patient5_.gender as gender16_32_3_, patient5_.guarantorAddress as guarant17_32_3_, patient5_.guarantorCity as guarant18_32_3_, patient5_.guarantorDob as guarant19_32_3_, patient5_.guarantorFirstName as guarant20_32_3_, patient5_.guarantorLastName as guarant21_32_3_, patient5_.guarantorRelationship as guarant22_32_3_, patient5_.guarantorState as guarant23_32_3_, patient5_.guarantorZip as guarant24_32_3_, patient5_.homePhone as homePho25_32_3_, patient5_.homePhoneType as homePho26_32_3_, patient5_.insuranceGroupNumber as insuran27_32_3_, patient5_.insurancePlanId as insuran28_32_3_, patient5_.insurancePolicyNumber as insuran29_32_3_, patient5_.isAddedToSlotPriorityQueue as isAdded30_32_3_, patient5_.isConsentGivenForBeingUninsured as isConse31_32_3_, patient5_.isConsented as isConse32_32_3_, patient5_.isOptedOutForCall as isOpted33_32_3_, patient5_.isOptedOutForEmail as isOpted34_32_3_, patient5_.isOptedOutForSlotFilling as isOpted35_32_3_, patient5_.isOptedOutForText as isOpted36_32_3_, patient5_.isRateApp as isRateA37_32_3_, patient5_.lastName as lastNam38_32_3_, patient5_.mrn as mrn39_32_3_, patient5_.phone as phone40_32_3_, patient5_.phoneType as phoneTy41_32_3_, patient5_.preferredContactMethod as preferr42_32_3_, patient5_.preferredNotificationLanguage as preferr43_32_3_, patient5_.priorityStatus as priorit44_32_3_, patient5_.race as race45_32_3_, patient5_.schedulingNotes as schedul46_32_3_, patient5_.secondaryInsuranceGroupNumber as seconda47_32_3_, patient5_.secondaryInsurancePlanId as seconda48_32_3_, patient5_.secondaryInsurancePolicyNumber as seconda49_32_3_, patient5_.state as state50_32_3_, patient5_.systemId as systemI51_32_3_, patient5_.systemName as systemN52_32_3_, patient5_.twilioTaskId as twilioT53_32_3_, patient5_.userId as userId54_32_3_, patient5_.version as version55_32_3_, patient5_.zip as zip56_32_3_, concat(patient5_.firstName,' ',patient5_.lastName) as formula2_3_, concat(patient5_.lastName,', ',patient5_.firstName) as formula3_3_, concat(patient5_.lastName,',',patient5_.firstName) as formula4_3_, concat(patient5_.lastName,' ',patient5_.firstName) as formula5_3_, family6_.id as id1_21_4_, transactio7_.id as id1_46_5_, transactio7_.amount as amount2_46_5_, transactio7_.cancelOrRefundUserId as cancelOr3_46_5_, transactio7_.cancelOrRefundDate as cancelOr4_46_5_, transactio7_.credit_account as credit_a5_46_5_, transactio7_.date as date6_46_5_, transactio7_.debit_account as debit_ac7_46_5_, transactio7_.location_id as locatio17_46_5_, transactio7_.method as method8_46_5_, transactio7_.note as note9_46_5_, transactio7_.patient_id as patient18_46_5_, transactio7_.rawString as rawStri10_46_5_, transactio7_.referUrl as referUr11_46_5_, transactio7_.referenceNo as referen12_46_5_, transactio7_.refundReason as refundR13_46_5_, transactio7_.status as status14_46_5_, transactio7_.transactionId as transac15_46_5_, transactio7_.type as type16_46_5_, patient8_.id as id1_32_6_, patient8_.address as address2_32_6_, patient8_.addressLine1 as addressL3_32_6_, patient8_.addressLine2 as addressL4_32_6_, patient8_.appartmentDetails as appartme5_32_6_, patient8_.averageReview as averageR6_32_6_, patient8_.chatChannelId as chatChan7_32_6_, patient8_.city as city8_32_6_, patient8_.consentTakenBy as consentT9_32_6_, patient8_.county as county10_32_6_, patient8_.dob as dob11_32_6_, patient8_.email as email12_32_6_, patient8_.entranceNote as entranc13_32_6_, patient8_.ethnicity as ethnici14_32_6_, patient8_.family_id as family_57_32_6_, patient8_.firstName as firstNa15_32_6_, patient8_.gender as gender16_32_6_, patient8_.guarantorAddress as guarant17_32_6_, patient8_.guarantorCity as guarant18_32_6_, patient8_.guarantorDob as guarant19_32_6_, patient8_.guarantorFirstName as guarant20_32_6_, patient8_.guarantorLastName as guarant21_32_6_, patient8_.guarantorRelationship as guarant22_32_6_, patient8_.guarantorState as guarant23_32_6_, patient8_.guarantorZip as guarant24_32_6_, patient8_.homePhone as homePho25_32_6_, patient8_.homePhoneType as homePho26_32_6_, patient8_.insuranceGroupNumber as insuran27_32_6_, patient8_.insurancePlanId as insuran28_32_6_, patient8_.insurancePolicyNumber as insuran29_32_6_, patient8_.isAddedToSlotPriorityQueue as isAdded30_32_6_, patient8_.isConsentGivenForBeingUninsured as isConse31_32_6_, patient8_.isConsented as isConse32_32_6_, patient8_.isOptedOutForCall as isOpted33_32_6_, patient8_.isOptedOutForEmail as isOpted34_32_6_, patient8_.isOptedOutForSlotFilling as isOpted35_32_6_, patient8_.isOptedOutForText as isOpted36_32_6_, patient8_.isRateApp as isRateA37_32_6_, patient8_.lastName as lastNam38_32_6_, patient8_.mrn as mrn39_32_6_, patient8_.phone as phone40_32_6_, patient8_.phoneType as phoneTy41_32_6_, patient8_.preferredContactMethod as preferr42_32_6_, patient8_.preferredNotificationLanguage as preferr43_32_6_, patient8_.priorityStatus as priorit44_32_6_, patient8_.race as race45_32_6_, patient8_.schedulingNotes as schedul46_32_6_, patient8_.secondaryInsuranceGroupNumber as seconda47_32_6_, patient8_.secondaryInsurancePlanId as seconda48_32_6_, patient8_.secondaryInsurancePolicyNumber as seconda49_32_6_, patient8_.state as state50_32_6_, patient8_.systemId as systemI51_32_6_, patient8_.systemName as systemN52_32_6_, patient8_.twilioTaskId as twilioT53_32_6_, patient8_.userId as userId54_32_6_, patient8_.version as version55_32_6_, patient8_.zip as zip56_32_6_, concat(patient8_.firstName,' ',patient8_.lastName) as formula2_6_, concat(patient8_.lastName,', ',patient8_.firstName) as formula3_6_, concat(patient8_.lastName,',',patient8_.firstName) as formula4_6_, concat(patient8_.lastName,' ',patient8_.firstName) as formula5_6_ from appointment this_ left outer join doctor doctor2_ on this_.doctor_id=doctor2_.id left outer join groupCode groupcode3_ on this_.groupcode_id=groupcode3_.id left outer join location location4_ on this_.location_id=location4_.id left outer join patient patient5_ on this_.patient_id=patient5_.id left outer join family family6_ on patient5_.family_id=family6_.id left outer join transaction transactio7_ on this_.transaction_id=transactio7_.id left outer join patient patient8_ on transactio7_.patient_id=patient8_.id where this_.currentAppointmentDate>='2021-08-12 04:00:00' and this_.currentAppointmentDate>='2021-08-12 04:00:00' and not (this_.status in ('CANCELLED', 'MANUAL_DELAY', 'DELETED')) and this_.baseAppointmentId in (select (if(appointment_.baseAppointmentId is not null,appointment_.baseAppointmentId,appointment_.id)) as parentAppointmentId from appointment appointment_ inner join patient patientobj1_ on appointment_.patient_id=patientobj1_.id inner join family familyobj2_ on patientobj1_.family_id=familyobj2_.id where familyobj2_.id=5384 and appointment_.actualScheduledDate='2021-08-12 20:00:00' and not (appointment_.status in ('MANUAL_DELAY', 'DELETED')) and appointment_.location_id in (1))